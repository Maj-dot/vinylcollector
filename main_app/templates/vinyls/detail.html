{% extends 'base.html' %} {% load static %} {% block head %}
<link rel="stylesheet" href="{% static 'css/vinyls/vinyl-detail.css' %}" />
{% endblock %} {% block content %}
<section class="vinyl-container">
  <div class="vinyl-img">
    {% comment %} <img
      src="{% static 'images/vinyl-onigiri.jpg' %}"
      alt="A collection of records"
    /> {% endcomment %}
  </div>
  <div class="vinyl-details">
    <h1 class="card-title">{{ vinyl.name }}</h1>
    <p><strong>Artist:</strong> {{ vinyl.artist }}</p>
    <p><strong>Genre:</strong> {{ vinyl.genre }}</p>
    <p>{{ vinyl.description }}</p>

    <div class="vinyl-actions">
      <a href="{% url 'vinyl-update' vinyl.id %}" class="btn warn">Edit</a>
      <a href="{% url 'vinyl-delete' vinyl.id %}" class="btn danger">Delete</a>
    </div>
  </div>
</section>

<div class="playlist-song-container">
  <section class="playlist">
    <div class="subsection-title">
      <h2>Songs</h2>
      {% comment %} <img
        src="{% static 'images/cat-cone.svg' %}"
        alt="An ice cream cone cat"
      /> {% endcomment %}
      {% comment %} <img src="{% static 'images/cat-onigiri.svg' %}" alt="A cat as onigiri" />
      <img
        src="{% static 'images/kitty-kabob.svg' %}"
        alt="A kabob of kittens"
      /> {% endcomment %}
    </div>

  <h3>Add a Song</h3>
    <form action="{% url 'add-song' vinyl.id %}" method="post" class="subsection-content" autocomplete="off">
      {% csrf_token %}
      {{ song_form.as_p }}
      <button type="submit" class="btn submit">Add Song</button>
    </form>
  <h3>Songs on album</h3>
  {% if vinyl.song_set.all.count %}   
    <table>
      <thead>
        <tr>
          <th>Mood</th>
          <th>Title</th>
        </tr>
      </thead>
      <tbody>
        {% for song in vinyl.song_set.all %}
        <tr>
          <td>{{song.get_mood_display}}</td>
          <td>{{song.title}}</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  {% else %} 
    <div class="subsection-content">
      <p> {{vinyl.name}} has no songs!</p>
    </div>
  {% endif %}    
  </section>
</div>
{% endblock %}
